function fixedEncodeURIComponent(n){return encodeURIComponent(n)}var editor,viewModel,RoslynChartViewModel;ko.bindingHandlers.code={init:function(){editor=ace.edit("code"),editor.setTheme("ace/theme/monokai"),editor.getSession().setMode("ace/mode/csharp"),viewModel.getChart()},update:function(n,t){var i=t();editor.setValue(i),editor.getSession().getSelection().clearSelection(),viewModel.getChart()}},RoslynChartViewModel=function(){function n(){var n;$.ajax({url:"Chart/GetCodeSamples",async:!1,dataType:"json",success:function(t){n=t}}),this.CodeSamples=ko.observable(n),this.Section=ko.observable(n[0]),this.SubSection=ko.observable(n[0].Sections[0]),this.CodeSample=ko.observable(n[0].Sections[0].CodeSamples[0]),this.getChart=function(){editor!=undefined&&$.post("Chart/Create","code="+fixedEncodeURIComponent(editor.getSession().getValue()),function(n){n.Message=="Success"?($("#img-chart").attr("src","/Chart/ReturnChart?guid="+n.Guid),$("#messages").removeClass("alert alert-error").addClass("alert alert-success"),$("#messages").text("Success")):($("#messages").removeClass("alert alert-success").addClass("alert alert-error"),$("#messages").text(n.Message))})}}return n}(),$(function(){viewModel=new RoslynChartViewModel,ko.applyBindings(viewModel)})