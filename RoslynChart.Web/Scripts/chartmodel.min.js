function fixedEncodeURIComponent(n){return encodeURIComponent(n)}var editor,RoslynChartViewModel;ko.bindingHandlers.code={init:function(){editor=ace.edit("code"),editor.setTheme("ace/theme/monokai"),editor.getSession().setMode("ace/mode/csharp")},update:function(n,t){var i=t();editor.setValue(i),editor.getSession().getSelection().clearSelection()}},RoslynChartViewModel=function(){function n(){var n;$.ajax({url:"Chart/CodeSamples",async:!1,dataType:"json",success:function(t){n=t}}),this.CodeSamples=ko.observable(n),this.Section1=ko.observable(n[0]),this.Section2=ko.observable(n[0].Sections[0]),this.CodeSample=ko.observable(n[0].Sections[0].CodeSamples[0]),this.getChart=function(){editor!=undefined&&$.post("Chart/Create","code="+fixedEncodeURIComponent(editor.getSession().getValue()),function(n){n.Message=="Success"?($("#img-chart").attr("src","/Chart/ReturnChart?guid="+n.Guid),$("#messages").removeClass("alert alert-error").addClass("alert alert-success"),$("#messages").text("Success")):($("#messages").removeClass("alert alert-success").addClass("alert alert-error"),$("#messages").text(n.Message))})}}return n}(),$(function(){var n=new RoslynChartViewModel;ko.applyBindings(n),n.getChart()})